"use strict";(()=>{var e={};e.id=797,e.ids=[797],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},9280:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>N,patchFetch:()=>O,requestAsyncStorage:()=>j,routeModule:()=>m,serverHooks:()=>w,staticGenerationAsyncStorage:()=>v});var n={};t.r(n),t.d(n,{GET:()=>S,POST:()=>h,PUT:()=>x});var o=t(9303),i=t(8716),s=t(670),c=t(7070),a=t(2048),u=t.n(a),p=t(5315),l=t.n(p);let d=l().join(process.cwd(),"data","calculator-config.json"),f={basePrice:{косметический:5e3,дизайнерский:12e3,капитальный:2e4},objectType:{квартира:1,офис:1.2,дом:1.3},buildingType:{новостройка:1,вторичка:1.15},bathroomPrice:8e4,additionalServices:{электрика:{type:"perSquareMeter",price:2e3},теплыйПол:{type:"perSquareMeter",price:3500},сантехника:{type:"fixed",price:8e4},перепланировка:{type:"fixed",price:15e4},натяжнойПотолок:{type:"perSquareMeter",price:800},дизайнПроект:{type:"fixed",price:5e4}},currency:"₽",version:"1.0.0",lastUpdated:new Date().toISOString()};function y(){let e=l().dirname(d);u().existsSync(e)||u().mkdirSync(e,{recursive:!0}),u().existsSync(d)||u().writeFileSync(d,JSON.stringify(f,null,2))}function g(){return y(),JSON.parse(u().readFileSync(d,"utf-8"))}async function S(e){try{let e=g();return c.NextResponse.json(e)}catch(e){return console.error("Error fetching calculator config:",e),c.NextResponse.json({error:"Ошибка при получении конфигурации"},{status:500})}}async function x(e){try{let r=await e.json(),t=function(e){y();let r={...g(),...e,lastUpdated:new Date().toISOString()};return u().writeFileSync(d,JSON.stringify(r,null,2)),r}(r);return c.NextResponse.json({success:!0,config:t})}catch(e){return console.error("Error updating calculator config:",e),c.NextResponse.json({error:"Ошибка при обновлении конфигурации"},{status:500})}}async function h(e){try{let e=function(){let e={...f,lastUpdated:new Date().toISOString()};return u().writeFileSync(d,JSON.stringify(e,null,2)),e}();return c.NextResponse.json({success:!0,config:e})}catch(e){return console.error("Error resetting calculator config:",e),c.NextResponse.json({error:"Ошибка при сбросе конфигурации"},{status:500})}}let m=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/calculator-config/route",pathname:"/api/calculator-config",filename:"route",bundlePath:"app/api/calculator-config/route"},resolvedPagePath:"C:\\Users\\Gleb\\Desktop\\Site\\site_maxvich1\\src\\app\\api\\calculator-config\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:j,staticGenerationAsyncStorage:v,serverHooks:w}=m,N="/api/calculator-config/route";function O(){return(0,s.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:v})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[276,972],()=>t(9280));module.exports=n})();